<label for="graduationYear" margin-top>Rok maturity</label>
<input
  id="graduationYear"
  [(ngModel)]="graduationYear"
  class="form-control"
  type="number"
  name="numberOfGroups"
  min="0"
  (change)="onFilter()"
>

<label for="graduationYear" margin-top>Dĺžka štúdia</label>
<select
  id="graduationYear"
  [(ngModel)]="studyLength"
  class="custom-select"
  margin-bottom
  (change)="onFilter()"
>
  <option value="all">Všetko</option>
  <option value="3">Trojročné štúdium</option>
  <option value="4">Štvorročné štúdium</option>
</select>

<table *ngIf="filtered.length else noData" class="table">
  <thead>
    <tr>
      <th *ngFor="let item of header" scope="col">{{ item }}</th>
    </tr>
  </thead>
  <tbody>
    <ng-template [ngIf]="type == 'groups'">
      <tr *ngFor="let group of groups; let i = index">
        <th>{{ i + 1 }}</th>
        <td>{{ group.adm.length }}</td>
        <td>{{ group.beganStudy }}</td>
        <td>{{ (group.beganStudy / (group.adm.length / 100)).toFixed(2) }}</td>
        <td>{{ group.arr[0] }} - {{ group.arr[group.arr.length-1] }}</td>
        <td>{{ group.mean.toFixed(2) }}</td>
        <td>{{ group.median }}</td>
      </tr>

      <tr class="table-secondary">
        <th>Sumár</th>
        <td>{{ filtered.length }}</td>
        <td>{{ summary.beganStudy }}</td>
        <td>{{ (summary.beganStudy / (filtered.length / 100)).toFixed(2) }}</td>
        <td>{{ summary.arr[0] }} - {{ summary.arr[summary.arr.length-1] }}</td>
        <td>{{ summary.mean.toFixed(2) }}</td>
        <td>{{ summary.median }}</td>
      </tr>
    </ng-template>

    <ng-template [ngIf]="type == 'intervals'">
      <tr *ngFor="let interval of intervals | keyvalue">
        <th>{{ interval.key }}</th>
        <td>{{ interval.value.count }}</td>
        <td>{{ interval.value.beganStudy }}</td>
        <td>{{ (interval.value.beganStudy / (interval.value.count / 100)).toFixed(2) }}</td>
      </tr>
    </ng-template>
  </tbody>
</table>

<ng-template #noData>
  <h4 margin-top text-center>Žiadne dáta</h4>
</ng-template>
